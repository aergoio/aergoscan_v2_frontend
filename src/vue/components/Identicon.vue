<template>
  <div class="identicon" :class="{'identicon-new': is_new}">
  </div>
</template>

<script>
import jdenticon from 'jdenticon';

export default {
  name: 'Icon',
  props: ['text', 'size'],
  data () {
    return {
    }
  },
  watch: {
    'text' (to, from) {
      this.load();
    }
  },
  methods: {
    load() {
      if (this.text) {
        this.$el.innerHTML = jdenticon.toSvg(this.$props.text, this.$props.size || 200);
      } else {
        this.$el.innerHTML = '';
      }
    }
  },
  mounted () {
    this.load();
  },
};
</script>

<style lang="scss">
.identicon {
  line-height: 1;
}
.mini-identicon {
  display: inline-block;
  border: 1px solid #ddd;
  vertical-align: middle;
}
.tiny-identicon {
  display: inline-block;
  vertical-align: middle;
}
.identicon-new {
  background: url(~@assets/img/identicon-new.svg);
}
.identicon-multi {
  background: url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKIHdpZHRoPSIxNC40MDAwMDBwdCIgaGVpZ2h0PSIxNC40MDAwMDBwdCIgdmlld0JveD0iMCAwIDE0LjQwMDAwMCAxNC40MDAwMDAiCiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4KPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsMTQuNDAwMDAwKSBzY2FsZSgwLjAwMzY5MiwtMC4wMDM3ODkpIgpmaWxsPSIjRkYwMDk3IiBzdHJva2U9Im5vbmUiPgo8cGF0aCBkPSJNMjE0OSAzMzg4IGMtMTA3IC0xMTYgLTE5OSAtMjE2IC0yMDQgLTIyMiAtMTE1IC0xMjMgLTE3NyAtMTk4IC0xNjkKLTIwNSA1IC00IDQ1IC0xNiA4OSAtMjUgNDMgLTkgODEgLTE5IDg0IC0yMiAxOCAtMTcgLTEzMSAtMjIzIC0yNDAgLTMzMiAtMTk2Ci0xOTggLTQ1MCAtMzM1IC03MjggLTM5NCAtNzggLTE2IC0xNTEgLTIyIC0zODEgLTI3IGwtMjg1IC02IDAgLTIyMCAwIC0yMjAKMjc1IDEgYzI0MCAwIDI5MiAzIDQwNSAyMyA1NzkgMTAyIDEwODUgNDY4IDEzNjYgOTg4IDI1IDQ4IDUwIDgzIDU5IDgzIDggMAo1MyAtOSA5OSAtMjAgNDcgLTExIDg4IC0xNyA5MiAtMTMgNSA1IC0zIDQ0IC0xNyA4OCAtNTQgMTcxIC0xNjcgNTM1IC0xOTYKNjMzIC0xNyA1NyAtMzYgMTAyIC00MyAxMDIgLTcgMCAtOTkgLTk1IC0yMDYgLTIxMnoiLz4KPHBhdGggZD0iTTI1OTggMjMxOCBsLTMgLTE2MyAtMjY3IC01IC0yNjcgLTUgLTU4IC01MSBjLTMyIC0yOCAtOTEgLTc1IC0xMzAKLTEwNCAtNDAgLTI5IC03MyAtNTQgLTczIC01NSAwIC0xIDMzIC0yNiA3MyAtNTUgMzkgLTI5IDk4IC03NiAxMzAgLTEwNCBsNTgKLTUxIDI2NyAtNSAyNjcgLTUgMyAtMTYyIGMxIC05MCA1IC0xNjMgOCAtMTYzIDMgMCA3MCAzNyAxNDcgODEgNzggNDUgMTU3IDkwCjE3NSAxMDAgMTcgMTEgNDcgMjcgNjUgMzggMTcgMTAgODIgNDYgMTQyIDgxIDEzMiA3NSAyMzQgMTM0IDI5NSAxNjkgMjUgMTQKNjIgMzUgODMgNDYgMjAgMTEgMzcgMjQgMzcgMzAgMCA2IC0yMSAyMiAtNDcgMzYgLTI3IDE1IC03OSA0NCAtMTE4IDY2IC0zOAoyMiAtOTIgNTIgLTEyMCA2OCAtMjcgMTUgLTkzIDUzIC0xNDUgODMgLTUyIDMwIC0xMTUgNjYgLTE0MCA4MCAtMjUgMTMgLTgxCjQ2IC0xMjUgNzIgLTEwOCA2NCAtMjQzIDE0MCAtMjQ5IDE0MCAtMyAwIC03IC03MyAtOCAtMTYyeiIvPgo8cGF0aCBkPSJNMTYxMCAxODI4IGMtMTAwIC01MiAtMjc2IC0xMjEgLTM4MCAtMTQ4IC00NyAtMTMgLTg5IC0yNiAtOTMgLTMwCi00IC00IDIwIC0xNyA1NSAtMzAgOTQgLTMzIDI1OSAtMTIxIDM1MCAtMTg3IDE0MiAtMTAyIDMwNiAtMjg0IDM4OSAtNDMwIDEzCi0yMyAyMSAtNDQgMTggLTQ3IC0zIC0zIC00MyAtMTQgLTg5IC0yNCAtNDcgLTEwIC04NSAtMjMgLTg1IC0yOSAwIC05IDI5NwotMzQxIDUxMiAtNTczIDIzIC0yNSA0MyAtNDggNDMgLTUyIDAgLTUgOSAtOCAxOSAtOCAxNSAwIDIzIDEzIDM2IDU3IDIwIDcyCjU1IDE4NyAxNTYgNTA4IDQzIDEzNyA3NSAyNTMgNzAgMjU4IC00IDQgLTMzIDEgLTY0IC03IC0zMSAtOCAtNzUgLTE4IC05OQotMjEgbC00MyAtNyAtNDUgODQgYy0xNDIgMjY4IC0zNjkgNTIxIC02MTUgNjg0IGwtNjAgNDAgLTc1IC0zOHoiLz4KPC9nPgo8L3N2Zz4=)};
</style>
